{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nimport Head from 'next/head';\nimport { Row, Col, List, Icon, Breadcrumb, BackTop, Carousel, Affix } from 'antd';\nimport Header from '../components/Header';\nimport Author from '../components/Author';\nimport Advert from '../components/Advert';\nimport Footer from '../components/Footer';\nimport DayText from '../components/DayText';\nimport '../static/style/pages/list.css';\nimport Link from \"next/link\";\n\nvar Home = function Home(list) {\n  var _useState = useState(50),\n      top = _useState[0];\n\n  var style = {\n    height: 40,\n    width: 40,\n    lineHeight: '40px',\n    borderRadius: 4,\n    backgroundColor: '#1088e9',\n    color: '#fff',\n    textAlign: 'center',\n    fontSize: 14\n  };\n  var contentStyle = {\n    height: '160px',\n    color: '#fff',\n    lineHeight: '160px',\n    textAlign: 'center',\n    background: '#364d79'\n  };\n\n  var _useState2 = useState(list.data),\n      mylist = _useState2[0],\n      setMylist = _useState2[1];\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"\\u9996\\u9875\")), __jsx(Header, null), __jsx(Row, {\n    className: \"comm-main\",\n    type: \"flex\",\n    justify: \"center\"\n  }, __jsx(Carousel, {\n    effect: \"fade\",\n    className: \"top-img\"\n  }, __jsx(\"div\", null, __jsx(\"h3\", {\n    style: contentStyle\n  }, \"1\")), __jsx(\"div\", null, __jsx(\"h3\", {\n    style: contentStyle\n  }, \"2\")), __jsx(\"div\", null, __jsx(\"h3\", {\n    style: contentStyle\n  }, \"3\")), __jsx(\"div\", null, __jsx(\"h3\", {\n    style: contentStyle\n  }, \"4\"))), __jsx(Col, {\n    className: \"comm-left\",\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 18,\n    xl: 14\n  }, __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"bread-div\"\n  }, __jsx(Breadcrumb, null, __jsx(Breadcrumb.Item, null, __jsx(\"a\", {\n    href: \"/\"\n  }, \"\\u9996\\u9875\")), __jsx(Breadcrumb.Item, null, \"\\u89C6\\u9891\\u5217\\u8868\"))), __jsx(List, {\n    itemLayout: \"vertical\",\n    dataSource: mylist,\n    renderItem: function renderItem(item) {\n      return __jsx(List.Item, null, __jsx(\"div\", {\n        className: \"list-title\"\n      }, __jsx(Link, {\n        href: {\n          pathname: '/detailed',\n          query: {\n            id: item.id\n          }\n        }\n      }, __jsx(\"a\", null, item.title))), __jsx(\"div\", {\n        className: \"list-icon\"\n      }, __jsx(\"span\", null, __jsx(Icon, {\n        type: \"calendar\"\n      }), \" \", item.addTime), __jsx(\"span\", null, __jsx(Icon, {\n        type: \"folder\"\n      }), \" \", item.typeName), __jsx(\"span\", null, __jsx(Icon, {\n        type: \"fire\"\n      }), \" \", item.view_count, \"\\u4EBA\")), __jsx(\"div\", {\n        className: \"list-context\"\n      }, item.article_content));\n    }\n  }))), __jsx(Affix, {\n    offsetTop: top\n  }, __jsx(Col, {\n    className: \"comm-right\",\n    xs: 0,\n    sm: 0,\n    md: 7,\n    lg: 5,\n    xl: 4\n  }, __jsx(DayText, null), __jsx(Author, null), __jsx(Advert, null)))), __jsx(BackTop, {\n    className: \"goback\",\n    visibilityHeight: \"100\"\n  }, __jsx(\"div\", {\n    style: style\n  }, \"UP\")), __jsx(Footer, null));\n};\n\nHome.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var promise;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          promise = new Promise(function (resolve) {\n            Axios('http://127.0.0.1:7001/default/getArticleList').then(function (res) {\n              console.log(res); //console.log('远程获取数据结果:',res.data.data)\n\n              resolve(res.data);\n            });\n          });\n          _context.next = 3;\n          return promise;\n\n        case 3:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}